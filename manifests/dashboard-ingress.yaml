apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: dashboard-ing
  namespace: kube-system
  annotations:
    nginx.ingress.kubernetes.io/backend-protocol: "HTTPS"
    nginx.ingress.kubernetes.io/force-ssl-redirect: "true"
    nginx.ingress.kubernetes.io/secure-backends: "true"
spec:
  tls:
    - hosts:
      - dashboard.{{.domain}}
  rules:
    - host: dashboard.{{.domain}}
      http:
        paths:
        - backend:
            serviceName:  kubernetes-dashboard
            servicePort:  443


---
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: grafana-ing
  namespace: monitoring
spec:
  rules:
    - host: grafana.{{.domain}}
      http:
        paths:
        - backend:
            serviceName:  grafana
            servicePort:  3000

---
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: alertmanager-ing
  namespace: monitoring
spec:
  rules:
    - host: alertmanager.{{.domain}}
      http:
        paths:
        - backend:
            serviceName:  alertmanager-main
            servicePort:  9093


---
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: prometheus-k8s-ing
  namespace: monitoring
spec:
  rules:
    - host: prometheus.{{.domain}}
      http:
        paths:
        - backend:
            serviceName:  prometheus-k8s
            servicePort:  9090
